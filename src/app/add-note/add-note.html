<div class="add-note" [ngClass]="addNoteClass">
  <div
    *ngIf="!isAddingNewNote"
    class="add-note__placeholder"
  >
    Create new note...
  </div>

  <div
    *ngIf="isAddingNewNote"
    class="add-note__form-wrapper"
  >
    <input
      [(ngModel)]="title"
      class="add-note__form-field add-note__title"
      placeholder="Title"
    />
    <textarea
      #textbox
      placeholder="Create new note..."
      class="add-note__form-field add-note__note"
      [(ngModel)]="post"
      (keyup)="adjustTextarea($event)"
    ></textarea>

    <div class="add-note__footer">
      <div class="add-note__icons">
        <md-icon
          class="add-note__icon"
          mdTooltip="Reminde me"
          #reminderMenuTrigger="mdMenuTrigger"
          [mdMenuTriggerFor]="reminderMenu"
        >
          av_timer
        </md-icon>
        <md-icon
          class="add-note__icon"
          mdTooltip="Change color"
          #paletteMenuTrigger="mdMenuTrigger"
          [mdMenuTriggerFor]="paletteMenu"
        >
          palette
        </md-icon>
      </div>

      <md-menu #reminderMenu="mdMenu">
        <div class="add-note__reminder-menu" (click)="onMenuClick($event)">
          <div class="add-note__reminder-title">Reminder:</div>
          <div class="add-note__reminder-divider"></div>
          <div class="add-note__reminders">
            <div class="add-note__reminder" *ngFor="let date of dateOptions" (click)="setReminder(date)">
              <span>{{date.day}}</span>
              <span>{{date.time}}</span>
            </div>
          </div>
        </div>
      </md-menu>

      <md-menu #paletteMenu="mdMenu">
        <div class="add-note__palette" (click)="onMenuClick($event)">
          <div
            *ngFor="let color of colors"
            (click)="setColor(color)"
            class="add-note__palette-color"
            [ngClass]="getClassFromColor(color)"
          >
            <md-icon *ngIf="currentColor === color">done</md-icon>
          </div>
        </div>
      </md-menu>

      <button
        (click)="addNewNote()"
        [disabled]="!post"
        md-raised-button
      >
        Add
      </button>
    </div>

    <reminder-bar
      *ngIf="noteDate"
      [reminder]="noteDate"
      (onDeleteClick)="removeReminder($event)"
    ></reminder-bar>

  </div>
</div>
